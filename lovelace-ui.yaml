---
#-
#  _                _                            _
# | | _____   _____| | __ _  ___ ___       _   _(_)
# | |/ _ \ \ / / _ \ |/ _` |/ __/ _ \_____| | | | |
# | | (_) \ V /  __/ | (_| | (_|  __/_____| |_| | |
# |_|\___/ \_/ \___|_|\__,_|\___\___|      \__,_|_|
#
#
#- from github.com/basnijholt/home-assistant-config
background: var(--background-image)
decluttering_templates:
  automation_template:
    card:
      card:
        show_header_toggle: false
        title: '[[name]] automations'
        type: entities
      filter:
        include:
        - entity_id: automation.[[slug]]*
      sort: entity_id
      type: custom:auto-entities
title: Huis
views:
- badges:
  - entity: person.bas
  - entity: person.marcella
  cards:
  - entities:
    - entities:
      - light.sphere
      - light.sphere_2
      - light.corner_living_room
      - light.ceiling_living_room
      - light.tv_led
      - entity: script.cozy_lights_living_room
        icon_height: 20px
        name: Cozy lights
        show_icon: false
        show_name: true
        tap_action:
          action: call-service
          service: script.cozy_lights_living_room
      - entity: script.white_lights_living_room
        icon_height: 20px
        name: White lights
        show_icon: false
        show_name: true
        tap_action:
          action: call-service
          service: script.white_lights_living_room
      head:
        color_picker: true
        entity: light.living_room_lights
        hide_when_off: false
        name: Living
        type: custom:slider-entity-row
      type: custom:fold-entity-row
    - entities:
      - light.ceiling_bedroom
      - light.lampan
      - light.bamboo
      - light.bed_reading_up
      - light.bed_reading_down
      - light.philips_go
      - light.bed_led
      - input_boolean.automatic_bedroom_lights
      - input_boolean.bedroom_lights_automatically_turned_on
      - entity: script.cozy_lights_bedroom
        icon_height: 20px
        name: Cozy lights
        show_icon: false
        show_name: true
        tap_action:
          action: call-service
          service: script.cozy_lights_bedroom
      - entity: script.white_lights_bedroom
        icon_height: 20px
        name: White lights
        show_icon: false
        show_name: true
        tap_action:
          action: call-service
          service: script.white_lights_bedroom
      head:
        entity: light.bedroom_lights
        hide_when_off: false
        name: Bedroom
        type: custom:slider-entity-row
      name: Bed
      type: custom:fold-entity-row
    - entities:
      - light.ceiling_office
      - light.ceiling_kitchen
      - light.bathroom_ceiling
      - light.toilet
      - light.kitchen_counter
      - entities:
        - light.hall_1
        - light.hall_2
        - light.hall_3
        head:
          entity: light.hall_lights
        type: custom:fold-entity-row
      - entities:
        - light.stairs_up
        - light.stairs_down
        head:
          entity: light.stairs_lights
        type: custom:fold-entity-row
      - entities:
        - icon: mdi:human-edit
          name: "{% set manual_control = (\n    (state_attr('switch.adaptive_lighting_bedroom',\
            \ 'manual_control') or []) +\n    (state_attr('switch.adaptive_lighting_living_room',\
            \ 'manual_control') or []) +\n    (state_attr('switch.adaptive_lighting_bedroom_led',\
            \ 'manual_control') or []) +\n    (state_attr('switch.adaptive_lighting_half_and_full',\
            \ 'manual_control') or []) +\n    (state_attr('switch.adaptive_lighting_bedroom_half',\
            \ 'manual_control') or [])\n) %} {% if manual_control %}\n  {{ manual_control\
            \ | join(\", \") }}.\n{% else %}\n  Nothing is manually controlled.\n\
            {% endif %}\n"
          type: custom:template-entity-row
        - entity: script.reset_adaptive_lighting
        - type: divider
        - entity: switch.adaptive_lighting_bedroom
          name: default
        - entity: switch.adaptive_lighting_sleep_mode_default
          name: Sleep mode
        - entity: switch.adaptive_lighting_adapt_brightness_default
          name: Adapt brightness
        - entity: switch.adaptive_lighting_adapt_color_default
          name: Adapt color
        - type: divider
        - entity: switch.adaptive_lighting_living_room
          name: living_room
        - entity: switch.adaptive_lighting_sleep_mode_living_room
          name: Sleep mode
        - entity: switch.adaptive_lighting_adapt_brightness_living_room
          name: Adapt brightness
        - entity: switch.adaptive_lighting_adapt_color_living_room
          name: Adapt color
        - type: divider
        - entity: switch.adaptive_lighting_bedroom_led
          name: default_bed
        - entity: switch.adaptive_lighting_sleep_mode_default_bed
          name: Sleep mode
        - entity: switch.adaptive_lighting_adapt_brightness_default_bed
          name: Adapt brightness
        - entity: switch.adaptive_lighting_adapt_color_default_bed
          name: Adapt color
        - type: divider
        - entity: switch.adaptive_lighting_half_and_full
          name: half_and_full
        - entity: switch.adaptive_lighting_sleep_mode_half_and_full
          name: Sleep mode
        - entity: switch.adaptive_lighting_adapt_brightness_half_and_full
          name: Adapt brightness
        - entity: switch.adaptive_lighting_adapt_color_half_and_full
          name: Adapt color
        - type: divider
        - entity: switch.adaptive_lighting_bedroom_half
          name: bedroom_half
        - entity: switch.adaptive_lighting_sleep_mode_bedroom_half
          name: Sleep mode
        - entity: switch.adaptive_lighting_adapt_brightness_bedroom_half
          name: Adapt brightness
        - entity: switch.adaptive_lighting_adapt_color_bedroom_half
          name: Adapt color
        head:
          entity: switch.adaptive_lighting_bedroom
        type: custom:fold-entity-row
      head:
        entity: light.automatic_lights
        hide_when_off: false
        name: Auto and office
        type: custom:slider-entity-row
      type: custom:fold-entity-row
    show_header_toggle: false
    title: Lights
    type: entities
  - entity: weather.huis
    name: Weather
    type: custom:simple-weather-card
  - cards:
    - artwork: cover
      background: /local/tv.jpg
      entity: media_player.tv
      hide:
        controls: true
        mute: false
        play_stop: true
        volume: false
      icon: mdi:television
      type: custom:mini-media-player
    - artwork: cover
      entity: media_player.spotify
      hide:
        power: true
        source: false
        volume: true
      icon: mdi:spotify
      type: custom:mini-media-player
    - background: /local/kef_speakers.jpeg
      entity: media_player.kef_ls50
      hide:
        controls: true
        mute: false
        play_stop: true
        volume: false
      type: custom:mini-media-player
    - entities:
      - entities:
        - entity: input_number.kef_ls50_desk_db
        - entity: input_number.kef_ls50_wall_db
        - entity: input_number.kef_ls50_treble_db
        - entity: input_number.kef_ls50_high_hz
        - entity: input_number.kef_ls50_low_hz
        - entity: input_number.kef_ls50_sub_db
        - type: divider
        - entity: input_select.kef_ls50_bass_extension
        - entity: input_select.kef_ls50_sub_polarity
        - type: divider
        - entity: input_boolean.kef_ls50_desk_mode
        - entity: input_boolean.kef_ls50_wall_mode
        - entity: input_boolean.kef_ls50_phase_correction
        - entity: input_boolean.kef_ls50_high_pass
        - type: divider
        - entity: number.kef_ls50_desk_db
        - entity: number.kef_ls50_wall_db
        - entity: number.kef_ls50_treble_db
        - entity: number.kef_ls50_high_hz
        - entity: number.kef_ls50_low_hz
        - entity: number.kef_ls50_sub_db
        - type: divider
        - entity: select.kef_ls50_bass_extension
        - entity: select.kef_ls50_sub_polarity
        - type: divider
        - entity: select.kef_ls50_desk_mode
        - entity: select.kef_ls50_wall_mode
        - entity: select.kef_ls50_phase_correction
        - entity: select.kef_ls50_high_pass
        head:
          icon: mdi:equalizer
          name: 'KEF LS50 Equalizer

            '
          type: custom:template-entity-row
        type: custom:fold-entity-row
      show_header_toggle: false
      type: entities
    - cards:
      - icon: mdi:sofa
        name: Play music in living room
        styles:
          card:
          - font-size: 12px
          - font-weight: bold
          - height: 70px
        tap_action:
          action: call-service
          service: script.start_spotify_playlist_of_nearest_person
          service_data:
            entity_id: media_player.kef_ls50
            source: LS50 Wireless
        type: custom:button-card
      - icon: mdi:bed-king
        name: Play music in bedroom
        styles:
          card:
          - font-size: 12px
          - font-weight: bold
          - height: 70px
        tap_action:
          action: call-service
          service: script.start_spotify_playlist_of_nearest_person
          service_data:
            entity_id: media_player.kef_lsx
            source: LSX
        type: custom:button-card
      type: horizontal-stack
    style: "ha-card {\n  --mini-media-player-base-color: red;\n  --mini-media-player-icon-color:\
      \ red;\n  --mini-media-player-background-opacity: 0.1;\n  --mini-media-player-overlay-color:\
      \ red;\n}\n"
    type: vertical-stack
  - entities:
    - entity: sensor.adaptive
      type: custom:github-entity-row
    - entity: sensor.lovelace_ios_dark_mode_theme
      type: custom:github-entity-row
    - entity: sensor.lovelace_ios_themes
      type: custom:github-entity-row
    - entity: sensor.home_assistant_config
      type: custom:github-entity-row
    show_header_toggle: false
    type: entities
  - entities:
    - entity: input_boolean.alarm_clock
    - entity: input_datetime.alarm_clock
    - entity: input_select.sleep_mode
    - entities:
      - input_select.theme
      - input_boolean.theme_alternative
      head:
        entity: input_boolean.dark_mode
        name: Dark mode
      type: custom:fold-entity-row
    show_header_toggle: false
    type: entities
  - cards:
    - entities:
      - entity: vacuum.valetudo_vacuum
        name: Vacuum cleaner
        primary:
          entity: binary_sensor.vacuum_day
          name: Vacuum day
        secondary:
          attribute: battery_level
          name: Battery
          unit: '%'
        type: custom:multiple-entity-row
      - entity: switch.vacuum_mode
      - entity: input_boolean.cleaned_today
      - entity: binary_sensor.vacuum_day
      show_header_toggle: false
      type: entities
    - calibration_source:
        calibration_points:
        - map:
            x: 711
            y: 474
          vacuum:
            x: 30194
            y: 26665
        - map:
            x: 911
            y: 269
          vacuum:
            x: 32508
            y: 28968
        - map:
            x: 41
            y: 63
          vacuum:
            x: 22813
            y: 31276
      entity: vacuum.valetudo_vacuum
      map_modes:
      - template: vacuum_clean_zone
      - predefined_selections:
        - zones:
          - - 29706
            - 27237
            - 34806
            - 31137
        - zones:
          - - 22799
            - 27340
            - 27649
            - 31240
        - zones:
          - - 22803
            - 25150
            - 26353
            - 27250
        - zones:
          - - 26379
            - 26239
            - 31929
            - 27189
        - zones:
          - - 31941
            - 25364
            - 34791
            - 27164
        template: vacuum_clean_zone_predefined
      map_source:
        image: /local/vacuum-map.png
      service: vacuum.send_command
      type: custom:xiaomi-vacuum-map-card
    type: vertical-stack
  - entities:
    - entity: input_boolean.vacation_mode
    - entity: input_boolean.guest_mode
    - entity: input_boolean.automatic_temperature
    show_header_toggle: false
    type: entities
  - entities:
    - entities:
      - icon: mdi:currency-eur
        name: '{% set kwh = state_attr("switch.dishwasher", "consumption").0 %} {% set cost_today = 0.1979 * kwh %} Today used {{ kwh }} kWh and
          cost €{{ cost_today | round(2) }}.

          '
        type: custom:template-entity-row
      head:
        entity: binary_sensor.dishwasher
        name: Dishwasher
        secondary: "{% set on_for = as_timestamp(now()) - as_timestamp(states(\"input_datetime.dishwasher_on\"\
          )) %} {% set off_for = as_timestamp(now()) - as_timestamp(states(\"input_datetime.dishwasher_off\"\
          )) %} {% if states(\"binary_sensor.dishwasher\") == \"on\" %}\n  Has been\
          \ on for {{ (on_for / 60)|round(0) }} minutes.\n{% else %}\n  Has been off\
          \ for {{ (off_for / 3600)|round(1) }} hours.\n{% endif %}\n"
        state: "{% if is_state(\"binary_sensor.dishwasher\", \"on\") %}\n  {{ states(\"\
          sensor.dishwasher_watts\") }} Watt\n{% else %}\n  Off\n{% endif %}\n"
        type: custom:template-entity-row
      type: custom:fold-entity-row
    - entities:
      - icon: mdi:currency-eur
        name: '{% set kwh = states("sensor.washing_machine_daily_energy") | float
          %} {% set cost_today = 0.1979 * kwh %} Today used {{ kwh }} kWh and cost
          €{{ cost_today | round(2) }}.

          '
        type: custom:template-entity-row
      head:
        entity: binary_sensor.washing_machine
        name: Washing machine
        secondary: "{% set on_for = as_timestamp(now()) - as_timestamp(states(\"input_datetime.washing_machine_on\"\
          )) %} {% set off_for = as_timestamp(now()) - as_timestamp(states(\"input_datetime.washing_machine_off\"\
          )) %} {% if states(\"binary_sensor.washing_machine\") == \"on\" %}\n  Has\
          \ been on for {{ (on_for / 60)|round(0) }} minutes.\n{% else %}\n  Has been\
          \ off for {{ (off_for / 3600)|round(1) }} hours.\n{% endif %}\n"
        state: "{% if is_state(\"binary_sensor.washing_machine\", \"on\") %}\n  {{\
          \ states(\"sensor.washing_machine_power\") }} Watt\n{% else %}\n  Off\n\
          {% endif %}\n"
        type: custom:template-entity-row
      type: custom:fold-entity-row
    - entities:
      - icon: mdi:currency-eur
        name: 'Today''s usage statistics

          '
        type: custom:template-entity-row
      - icon: mdi:currency-eur
        name: '{{ states("sensor.daily_power")|round(2) }} kWh power → €{{ states("sensor.daily_power_cost")|float|round(2)
          }}.

          '
        type: custom:template-entity-row
      - icon: mdi:currency-eur
        name: '{{ states("sensor.daily_gas")|round(2) }} m³ gas → €{{ states("sensor.daily_gas_cost")|float|round(2)
          }}.

          '
        type: custom:template-entity-row
      - icon: mdi:currency-eur
        name: '€{{ states("sensor.daily_energy_fixed_cost")|float|round(2) }} (fixed)
          + €{{ (states("sensor.daily_gas_cost")|float + states("sensor.daily_power_cost")|float)|round(2)}}
          = €{{ (states("sensor.daily_gas_cost")|float + states("sensor.daily_power_cost")|float
          + states("sensor.daily_energy_fixed_cost")|float)|round(2) }}.

          '
        type: custom:template-entity-row
      - type: divider
      - icon: mdi:currency-eur
        name: '{{ as_timestamp(now()) | timestamp_custom("%B") }}''s usage statistics

          '
        type: custom:template-entity-row
      - icon: mdi:currency-eur
        name: '{{ states("sensor.monthly_power")|round(2) }} kWh power → €{{ states("sensor.monthly_power_cost")|float|round(2)
          }}.

          '
        type: custom:template-entity-row
      - icon: mdi:currency-eur
        name: '{{ states("sensor.monthly_gas")|round(2) }} m³ gas → €{{ states("sensor.monthly_gas_cost")|float|round(2)
          }}.

          '
        type: custom:template-entity-row
      - icon: mdi:currency-eur
        name: '€{{ states("sensor.monthly_energy_fixed_cost")|float|round(2) }} (fixed)
          + €{{ (states("sensor.monthly_gas_cost")|float + states("sensor.monthly_power_cost")|float)|round(2)}}
          = €{{ (states("sensor.monthly_gas_cost")|float + states("sensor.monthly_power_cost")|float
          + states("sensor.monthly_energy_fixed_cost")|float)|round(2) }}.

          '
        type: custom:template-entity-row
      - type: divider
      - icon: mdi:currency-eur
        name: 'Last month''s usage statistics

          '
        type: custom:template-entity-row
      - icon: mdi:currency-eur
        name: '{{ states("sensor.monthly_power_last_period")|round(2) }} kWh power
          → €{{ states("sensor.monthly_power_cost_last_period")|float|round(2) }}.

          '
        type: custom:template-entity-row
      - icon: mdi:currency-eur
        name: '{{ state_attr("sensor.monthly_gas", "last_period")|round(2) }} m³ gas
          → €{{ states("sensor.monthly_gas_cost_last_period")|float|round(2) }}.

          '
        type: custom:template-entity-row
      - icon: mdi:currency-eur
        name: '€{{ states("sensor.monthly_energy_fixed_cost_last_period")|float|round(2)
          }} (fixed) + €{{ (states("sensor.monthly_gas_cost_last_period")|float +
          states("sensor.monthly_power_cost_last_period")|float)|round(2)}} = €{{
          (states("sensor.monthly_gas_cost_last_period")|float + states("sensor.monthly_power_cost_last_period")|float
          + states("sensor.monthly_energy_fixed_cost_last_period")|float)|round(2)
          }}.

          '
        type: custom:template-entity-row
      head:
        entity: sensor.daily_gas
        name: Energy usage
        secondary: 'Today {{ states("sensor.daily_power")|round(2) }} kWh and {{ states("sensor.daily_gas")|round(2)
          }} m³ gas.

          '
        state: '€{{ (states("sensor.daily_gas_cost")|float + states("sensor.daily_power_cost")|float
          + states("sensor.daily_energy_fixed_cost")|float)|round(2) }}

          '
        type: custom:template-entity-row
      type: custom:fold-entity-row
    show_header_toggle: false
    title: Utilities
    type: entities
  - cards:
    - cards:
      - cards:
        - color_thresholds_transition: smooth
          entities:
          - entity: sensor.temperature_living_room
            name: Living room
          font_size: 100
          group: false
          hour24: true
          line_width: 6
          points_per_hour: 1
          show:
            extrema: false
            fill: fade
            labels: false
            name: true
            state: true
          type: custom:mini-graph-card
        - color_thresholds_transition: smooth
          entities:
          - entity: sensor.temperature_bathroom
            name: Bathroom
          font_size: 100
          group: false
          hour24: true
          line_width: 6
          points_per_hour: 1
          show:
            extrema: false
            fill: fade
            labels: false
            name: true
            state: true
          type: custom:mini-graph-card
        type: horizontal-stack
      - cards:
        - color_thresholds_transition: smooth
          entities:
          - entity: sensor.temperature_bedroom
            name: Bedroom
          font_size: 100
          group: false
          hour24: true
          line_width: 6
          points_per_hour: 1
          show:
            extrema: false
            fill: fade
            labels: false
            name: true
            state: true
          type: custom:mini-graph-card
        - color_thresholds_transition: smooth
          entities:
          - entity: sensor.temperature_hall
            name: Hall
          font_size: 100
          group: false
          hour24: true
          line_width: 6
          points_per_hour: 1
          show:
            extrema: false
            fill: fade
            labels: false
            name: true
            state: true
          type: custom:mini-graph-card
        type: horizontal-stack
      type: vertical-stack
    - cards:
      - cards:
        - color_thresholds_transition: smooth
          entities:
          - entity: sensor.humidity_living_room
            name: Living room
          font_size: 100
          group: false
          hour24: true
          line_width: 6
          points_per_hour: 1
          show:
            extrema: false
            fill: fade
            labels: false
            name: true
            state: true
          type: custom:mini-graph-card
        - color_thresholds_transition: smooth
          entities:
          - entity: sensor.humidity_bathroom
            name: Bathroom
          font_size: 100
          group: false
          hour24: true
          line_width: 6
          points_per_hour: 1
          show:
            extrema: false
            fill: fade
            labels: false
            name: true
            state: true
          type: custom:mini-graph-card
        type: horizontal-stack
      - cards:
        - color_thresholds_transition: smooth
          entities:
          - entity: sensor.humidity_bedroom
            name: Bedroom
          font_size: 100
          group: false
          hour24: true
          line_width: 6
          points_per_hour: 1
          show:
            extrema: false
            fill: fade
            labels: false
            name: true
            state: true
          type: custom:mini-graph-card
        - color_thresholds_transition: smooth
          entities:
          - entity: sensor.humidity_hall
            name: Hall
          font_size: 100
          group: false
          hour24: true
          line_width: 6
          points_per_hour: 1
          show:
            extrema: false
            fill: fade
            labels: false
            name: true
            state: true
          type: custom:mini-graph-card
        type: horizontal-stack
      type: vertical-stack
    - cards:
      - cards:
        - color_thresholds_transition: smooth
          entities:
          - entity: sensor.pressure_living_room
            name: Living room
          font_size: 100
          group: false
          hour24: true
          line_width: 6
          points_per_hour: 1
          show:
            extrema: false
            fill: fade
            labels: false
            name: true
            state: true
          type: custom:mini-graph-card
        - color_thresholds_transition: smooth
          entities:
          - entity: sensor.pressure_bathroom
            name: Bathroom
          font_size: 100
          group: false
          hour24: true
          line_width: 6
          points_per_hour: 1
          show:
            extrema: false
            fill: fade
            labels: false
            name: true
            state: true
          type: custom:mini-graph-card
        type: horizontal-stack
      - cards:
        - color_thresholds_transition: smooth
          entities:
          - entity: sensor.pressure_bedroom
            name: Bedroom
          font_size: 100
          group: false
          hour24: true
          line_width: 6
          points_per_hour: 1
          show:
            extrema: false
            fill: fade
            labels: false
            name: true
            state: true
          type: custom:mini-graph-card
        - color_thresholds_transition: smooth
          entities:
          - entity: sensor.pressure_hall
            name: Hall
          font_size: 100
          group: false
          hour24: true
          line_width: 6
          points_per_hour: 1
          show:
            extrema: false
            fill: fade
            labels: false
            name: true
            state: true
          type: custom:mini-graph-card
        type: horizontal-stack
      type: vertical-stack
    type: custom:swipe-card
  - cards:
    - cards:
      - color_thresholds_transition: smooth
        entities:
        - entity: sensor.power_consumption
          name: Power consumption
        font_size: 100
        group: false
        hour24: true
        line_width: 6
        points_per_hour: 1
        show:
          extrema: false
          fill: fade
          labels: false
          name: true
          state: true
        type: custom:mini-graph-card
      - color_thresholds_transition: smooth
        entities:
        - entity: sensor.daily_gas
          name: Gas consumption
        font_size: 100
        group: false
        hour24: true
        line_width: 6
        points_per_hour: 1
        show:
          extrema: false
          fill: fade
          labels: false
          name: true
          state: true
        type: custom:mini-graph-card
      name: Speedtest
      type: horizontal-stack
    - cards:
      - color_thresholds_transition: smooth
        entities:
        - entity: sensor.daily_power_cost
          name: Power cost
        font_size: 100
        group: false
        hour24: true
        line_width: 6
        points_per_hour: 1
        show:
          extrema: false
          fill: fade
          labels: false
          name: true
          state: true
        type: custom:mini-graph-card
      - color_thresholds_transition: smooth
        entities:
        - entity: sensor.daily_gas_cost
          name: Gas cost
        font_size: 100
        group: false
        hour24: true
        line_width: 6
        points_per_hour: 1
        show:
          extrema: false
          fill: fade
          labels: false
          name: true
          state: true
        type: custom:mini-graph-card
      name: Speedtest
      type: horizontal-stack
    parameters:
      autoplay:
        delay: 5000
      speed: 2000
    type: custom:swipe-card
  - cards:
    - cards:
      - color: auto
        icon: mdi:weather-sunset-up
        name: Wake up
        styles:
          card:
          - font-size: 12px
          - font-weight: bold
          - height: 70px
        tap_action:
          action: call-service
          haptic: success
          service: input_select.select_option
          service_data:
            entity_id: input_select.sleep_mode
            option: 'off'
        type: custom:button-card
      - color: auto
        entity: input_select.sleep_mode
        icon: mdi:weather-night
        name: '[[[ if (entity.state != "off") return "Sleep mode on"; else return  "Go
          to sleep" ]]]'
        styles:
          card:
          - font-size: 12px
          - font-weight: bold
          - height: 70px
        tap_action:
          action: call-service
          haptic: success
          service: script.going_to_sleep
        type: custom:button-card
      type: horizontal-stack
    - cards:
      - color: auto
        icon: mdi:home-map-marker
        name: Arrive Home
        styles:
          card:
          - font-size: 12px
          - font-weight: bold
          - height: 70px
        tap_action:
          action: call-service
          haptic: success
          service: script.arriving
        type: custom:button-card
      - color: auto
        icon: mdi:home-export-outline
        name: Leave Home
        styles:
          card:
          - font-size: 12px
          - font-weight: bold
          - height: 70px
        tap_action:
          action: call-service
          haptic: success
          service: script.leaving
        type: custom:button-card
      type: horizontal-stack
    type: vertical-stack
  - control: false
    entity: climate.thermostat
    icon: false
    name: false
    step_layout: row
    step_size: 0.5
    style: "ha-card {\n  --st-font-size-xl: 30px;\n}\n"
    type: custom:simple-thermostat
  - cards:
    - entity: plant.peace_lily
      type: plant-status
    - entity: plant.calathea
      type: plant-status
    - entity: plant.monstera
      type: plant-status
    parameters:
      autoplay:
        delay: 5000
      speed: 2000
    type: custom:swipe-card
  - entities:
    - entities:
      - entity: input_boolean.office_door_open_warning
      - type: divider
      - align: center
        color: '#0279ff'
        entity: sensor.time_at_work_this_week
        entity_row: true
        height: 30px
        max: 50
        min: 0
        severity:
        - color: '#ff3c31'
          from: 0
          to: 30
        - color: '#ffcc01'
          from: 30
          to: 38
        - color: '#34c758'
          from: 38
          to: 42
        - color: '#ff3c31'
          from: 42
          to: 50
        style: "ha-card {\n  box-shadow: none;\n  --ha-card-background: 'rgba(0, 0,\
          \ 0, 0)';\n}\n"
        target: 40
        type: custom:bar-card
      - align: center
        entity: sensor.time_at_work_prognosis
        entity_row: true
        height: 30px
        max: 50
        min: 0
        severity:
        - color: '#ff3c31'
          from: 0
          to: 30
        - color: '#ffcc01'
          from: 30
          to: 38
        - color: '#34c758'
          from: 38
          to: 42
        - color: '#ff3c31'
          from: 42
          to: 50
        style: "ha-card {\n  box-shadow: none;\n  --ha-card-background: 'rgba(0, 0,\
          \ 0, 0)';\n}\n"
        target: 40
        type: custom:bar-card
      - type: divider
      - align: center
        entity: sensor.time_at_work_on_monday
        entity_row: true
        height: 30px
        max: 12
        min: 0
        severity:
        - color: '#ff3c31'
          from: 0
          to: 6
        - color: '#ffcc01'
          from: 6
          to: 8
        - color: '#34c758'
          from: 8
          to: 9
        - color: '#ff3c31'
          from: 9
          to: 10
        style: "ha-card {\n  box-shadow: none;\n  --ha-card-background: 'rgba(0, 0,\
          \ 0, 0)';\n}\n"
        target: 8
        type: custom:bar-card
      - align: center
        entity: sensor.time_at_work_on_tuesday
        entity_row: true
        height: 30px
        max: 12
        min: 0
        severity:
        - color: '#ff3c31'
          from: 0
          to: 6
        - color: '#ffcc01'
          from: 6
          to: 8
        - color: '#34c758'
          from: 8
          to: 9
        - color: '#ff3c31'
          from: 9
          to: 10
        style: "ha-card {\n  box-shadow: none;\n  --ha-card-background: 'rgba(0, 0,\
          \ 0, 0)';\n}\n"
        target: 8
        type: custom:bar-card
      - align: center
        entity: sensor.time_at_work_on_wednessday
        entity_row: true
        height: 30px
        max: 12
        min: 0
        severity:
        - color: '#ff3c31'
          from: 0
          to: 6
        - color: '#ffcc01'
          from: 6
          to: 8
        - color: '#34c758'
          from: 8
          to: 9
        - color: '#ff3c31'
          from: 9
          to: 10
        style: "ha-card {\n  box-shadow: none;\n  --ha-card-background: 'rgba(0, 0,\
          \ 0, 0)';\n}\n"
        target: 8
        type: custom:bar-card
      - align: center
        entity: sensor.time_at_work_on_thursday
        entity_row: true
        height: 30px
        max: 12
        min: 0
        severity:
        - color: '#ff3c31'
          from: 0
          to: 6
        - color: '#ffcc01'
          from: 6
          to: 8
        - color: '#34c758'
          from: 8
          to: 9
        - color: '#ff3c31'
          from: 9
          to: 10
        style: "ha-card {\n  box-shadow: none;\n  --ha-card-background: 'rgba(0, 0,\
          \ 0, 0)';\n}\n"
        target: 8
        type: custom:bar-card
      - align: center
        entity: sensor.time_at_work_on_friday
        entity_row: true
        height: 30px
        max: 12
        min: 0
        severity:
        - color: '#ff3c31'
          from: 0
          to: 6
        - color: '#ffcc01'
          from: 6
          to: 8
        - color: '#34c758'
          from: 8
          to: 9
        - color: '#ff3c31'
          from: 9
          to: 10
        style: "ha-card {\n  box-shadow: none;\n  --ha-card-background: 'rgba(0, 0,\
          \ 0, 0)';\n}\n"
        target: 8
        type: custom:bar-card
      - card:
          show_header_toggle: false
          title: Bas
          type: entities
        filter:
          include:
          - group: group.iphone_bas
        type: custom:auto-entities
      head:
        entity: person.bas
        name: 'Bas

          '
        state: '{{ states(''person.bas'').replace(''_'', '' '').capitalize() }}

          '
        type: custom:template-entity-row
      type: custom:fold-entity-row
    - entities:
      - card:
          show_header_toggle: false
          title: Marcella
          type: entities
        filter:
          include:
          - group: group.iphone_marcella
        type: custom:auto-entities
      head:
        entity: person.marcella
        name: 'Marcella

          '
        state: '{{ states(''person.marcella'').replace(''_'', '' '').capitalize()
          }}

          '
        type: custom:template-entity-row
      type: custom:fold-entity-row
    show_header_toggle: false
    type: entities
  - entities:
    - entity: sensor.bus_home_to_rotterdam_centraal
      secondary: Next bus {{ states('sensor.bus_home_to_rotterdam_centraal_future_1')
        }}
      type: custom:template-entity-row
    - entity: sensor.bus_from_rotterdam_to_delft
      secondary: Next bus {{ states('sensor.bus_from_rotterdam_to_delft_future_1')
        }}
      type: custom:template-entity-row
    - entity: sensor.bus_from_delft_to_rotterdam
      secondary: Next bus {{ states('sensor.bus_from_delft_to_rotterdam_future_1')
        }}
      type: custom:template-entity-row
    type: entities
  - cards:
    - content: '# Quarantine-o-meter


        The gauge meters display the amount of time spent at home in the last 14 days.
        Where Bas left the house (on average) {{ (states("sensor.quarantine_meter_bas_times_left")|int
        / 14) | round(1) }} times per day and is outside {{ states("sensor.hours_outside_per_day_bas")
        }} h/d and Marcella {{ (states("sensor.quarantine_meter_marcella_times_left")|int
        / 14) | round(1) }} times per day and is outside for {{ states("sensor.hours_outside_per_day_marcella")
        }} h/d.

        '
      type: markdown
    - cards:
      - entity: sensor.quarantine_meter_marcella
        max: 100
        min: 0
        name: Marcella
        severity:
          green: 95
          red: 0
          yellow: 80
        theme: Backend-selected
        type: gauge
      - entity: sensor.quarantine_meter_bas
        max: 100
        min: 0
        name: Bas
        severity:
          green: 95
          red: 0
          yellow: 80
        theme: default
        type: gauge
      type: horizontal-stack
    type: vertical-stack
  icon: mdi:home
  path: default_view
  title: Home
- cards:
  - cards:
    - entities:
      - entity: sensor.installed_version
        icon: mdi:home-assistant
        name: Hassio Installed Version
      - entity: sensor.home_assistant_versions
        icon: mdi:home-assistant
        name: Hassio Current Version
      - entity: sensor.hacs
        icon: mdi:update
        name: Community Store
      - entity: binary_sensor.snapshots_stale
      - type: divider
      - entity: sensor.last_boot
        icon: mdi:calendar
      - entity: sensor.uptime
        icon: mdi:home-assistant
      - entity: sensor.mariadb_size
        icon: mdi:home-assistant
      - animation: 'off'
        entity: sensor.processor_use
        entity_row: true
        height: 30px
        indicator: 'off'
        severity:
        - color: green
          from: 0
          to: 60
        - color: orange
          from: 60
          to: 85
        - color: red
          from: 85
          to: 100
        style: "ha-card {\n  box-shadow: none;\n  --ha-card-background: 'rgba(0, 0,\
          \ 0, 0)';\n}\n"
        type: custom:bar-card
      - animation: 'off'
        entity: sensor.cpu_temperature
        entity_row: true
        height: 30px
        indicator: 'off'
        severity:
        - color: green
          from: 0
          to: 60
        - color: orange
          from: 60
          to: 70
        - color: red
          from: 70
          to: 100
        style: "ha-card {\n  box-shadow: none;\n  --ha-card-background: 'rgba(0, 0,\
          \ 0, 0)';\n}\n"
        type: custom:bar-card
      - animation: 'off'
        entity: sensor.memory_use_percent
        entity_row: true
        height: 30px
        indicator: 'off'
        severity:
        - color: green
          from: 0
          to: 60
        - color: orange
          from: 60
          to: 85
        - color: red
          from: 85
          to: 100
        style: "ha-card {\n  box-shadow: none;\n  --ha-card-background: 'rgba(0, 0,\
          \ 0, 0)';\n}\n"
        type: custom:bar-card
      - animation: 'off'
        entity: sensor.disk_use_percent
        entity_row: true
        height: 30px
        indicator: 'off'
        severity:
        - color: green
          from: 0
          to: 60
        - color: orange
          from: 60
          to: 85
        - color: red
          from: 85
          to: 100
        style: "ha-card {\n  box-shadow: none;\n  --ha-card-background: 'rgba(0, 0,\
          \ 0, 0)';\n}\n"
        type: custom:bar-card
      - type: divider
      - entity: sensor.myip
        icon: mdi:ip-network
      show_header_toggle: false
      title: System
      type: entities
    type: vertical-stack
  - cards:
    - columns: 4
      entities:
      - entity: sensor.count_automations
        name: Automations
      - entity: sensor.count_scripts
        name: Scripts
      - entity: sensor.count_zones
        name: Zones
      - entity: sensor.count_device_trackers
        name: Device Trackers
      - entity: sensor.count_switches
        name: Switches
      - entity: sensor.count_sensors
        name: Sensors
      - entity: sensor.count_binary_sensors
        name: Binary Sensors
      - entity: sensor.count_input_booleans
        name: Input Booleans
      - entity: sensor.count_input_numbers
        name: Input Numbers
      - entity: sensor.count_input_texts
        name: Input Texts
      - entity: sensor.count_input_selects
        name: Input Select
      - entity: sensor.count_input_datetimes
        name: Input Date Times
      title: Component Count
      type: glance
    type: vertical-stack
  - cards:
    - cards:
      - color_thresholds_transition: smooth
        entities:
        - entity: sensor.speedtest_ping
          index: 0
          name: Ping
        font_size: 70
        group: false
        hour24: true
        line_width: 6
        lower_bound: 0
        points_per_hour: 1
        show:
          extrema: true
          fill: fade
          icon: true
          labels: false
          name: true
          state: true
        style: "ha-card {\n  box-shadow: none;\n  --ha-card-background: 'rgba(0, 0,\
          \ 0, 0)';\n}\n"
        type: custom:mini-graph-card
      - color_thresholds_transition: smooth
        entities:
        - entity: sensor.speedtest_download
          index: 0
          name: Download
        font_size: 70
        group: false
        hour24: true
        line_width: 6
        lower_bound: 0
        points_per_hour: 1
        show:
          extrema: true
          fill: fade
          icon: true
          labels: false
          name: true
          state: true
        style: "ha-card {\n  box-shadow: none;\n  --ha-card-background: 'rgba(0, 0,\
          \ 0, 0)';\n}\n"
        type: custom:mini-graph-card
      - color_thresholds_transition: smooth
        entities:
        - entity: sensor.speedtest_upload
          index: 0
          name: Upload
        font_size: 70
        group: false
        hour24: true
        line_width: 6
        lower_bound: 0
        points_per_hour: 1
        show:
          extrema: true
          fill: fade
          icon: true
          labels: false
          name: true
          state: true
        style: "ha-card {\n  box-shadow: none;\n  --ha-card-background: 'rgba(0, 0,\
          \ 0, 0)';\n}\n"
        type: custom:mini-graph-card
      horizontal: true
      name: Speedtest
      style: "ha-card {\n  box-shadow: none;\n  --ha-card-background: 'rgba(0, 0,\
        \ 0, 0)';\n}\n"
      type: custom:vertical-stack-in-card
    style: "ha-card {\n  box-shadow: none;\n  --ha-card-background: var(--ha-card-background);\n\
      }\n"
    title: Network
    type: custom:vertical-stack-in-card
  - entities:
    - entity: zone.home
      icon: mdi:restart
      name: Lovelace
      tap_action:
        action: call-service
        service: frontend.reload_themes
    - entity: zone.home
      icon: mdi:restart
      name: Home Assistant
      tap_action:
        action: call-service
        service: homeassistant.restart
    - entity: zone.home
      icon: mdi:restart
      name: Server
      tap_action:
        action: call-service
        service: hassio.host_reboot
    show_name: true
    show_state: false
    type: glance
  icon: mdi:home-assistant
  path: system
  title: System Information
- badges: []
  cards:
  - columns: 5
    entities:
    - entity: sensor.smart_switch_bedroom_bas_battery_level
    - entity: sensor.smart_switch_bedroom_marcella_battery_level
    - entity: sensor.smart_switch_doorbell_battery_level
    - entity: sensor.smart_switch_door_battery_level
    - entity: sensor.smart_switch_living_room_battery_level
    show_icon: true
    show_name: false
    title: Buttons
    type: glance
  - entities:
    - entity: binary_sensor.activity_in_bathroom
    - entity: binary_sensor.activity_in_hall
    - entity: binary_sensor.activity_in_kitchen
    - entity: binary_sensor.activity_in_toilet
    - entity: binary_sensor.activity_in_bedroom
    - entity: binary_sensor.activity_in_living_room
    - type: divider
    - entity: binary_sensor.openclose_front_door
    - entity: binary_sensor.openclose_guest_room
    - entity: binary_sensor.openclose_living_room
    - type: divider
    - entity: binary_sensor.motion_detected
    - entity: binary_sensor.motion_detected_in_last_hour
    - entity: binary_sensor.someone_showering
    - entity: binary_sensor.someone_in_the_house_in_last_hour
    show_header_toggle: false
    title: Activity in the house
    type: entities
  - entities:
    - entity: binary_sensor.vibration
    - entity: sensor.vibration_battery_level
    title: Vibration sensors
    type: glance
  - columns: 3
    entities:
    - entity: binary_sensor.motion_sensor_living_room_klok
      name: Living room
    - entity: sensor.motion_sensor_living_room_klok_light_level
      name: ''
    - entity: sensor.motion_sensor_living_room_klok_battery_level
      name: ''
    - entity: binary_sensor.motion_sensor_kitchen
      name: Kitchen
    - entity: sensor.motion_sensor_kitchen_light_level
      name: ''
    - entity: sensor.motion_sensor_kitchen_battery_level
      name: ''
    - entity: binary_sensor.motion_sensor_toilet
      name: Toilet
    - entity: sensor.motion_sensor_toilet_light_level
      name: ''
    - entity: sensor.motion_sensor_toilet_battery_level
      name: ''
    - entity: binary_sensor.motion_sensor_hall
      name: Hall
    - entity: sensor.motion_sensor_hall_light_level
      name: ''
    - entity: sensor.motion_sensor_hall_battery_level
      name: ''
    - entity: binary_sensor.motion_sensor_bathroom
      name: Bathroom
    - entity: sensor.motion_sensor_bathroom_light_level
      name: ''
    - entity: sensor.motion_sensor_bathroom_battery_level
      name: ''
    - entity: binary_sensor.motion_sensor_bedroom_door
      name: Bedroom door
    - entity: sensor.motion_sensor_bedroom_door_light_level
      name: ''
    - entity: sensor.motion_sensor_bedroom_door_battery_level
      name: ''
    - entity: binary_sensor.motion_sensor_bedroom_kabinet
      name: Bedroom kabinet
    - entity: sensor.motion_sensor_bedroom_kabinet_light_level
      name: ''
    - entity: sensor.motion_sensor_bedroom_kabinet_battery_level
      name: ''
    - entity: binary_sensor.motion_sensor_bedroom_desk
      name: Bedroom desk
    - entity: sensor.motion_sensor_bedroom_desk_light_level
      name: ''
    - entity: sensor.motion_sensor_bedroom_desk_battery_level
      name: ''
    show_icon: true
    show_name: true
    state_color: true
    title: Motion sensor
    type: glance
  - columns: 2
    entities:
    - entity: binary_sensor.openclose_front_door
      name: Front door
    - entity: sensor.openclose_front_door_battery_level
      name: ''
    - entity: binary_sensor.openclose_guest_room
      name: Guest room
    - entity: sensor.openclose_guest_room_battery_level
      name: ''
    - entity: binary_sensor.openclose_living_room
      name: Living room
    - entity: sensor.openclose_living_room_battery_level
      name: ''
    show_icon: true
    show_name: true
    title: Open/close sensor
    type: glance
  - entities:
    - entity: binary_sensor.anything_on
    - entity: binary_sensor.any_light_on
    show_header_toggle: false
    title: Devices are on
    type: entities
  - entities:
    - entity: sensor.mi_flora_calathea_moisture
    - entity: sensor.mi_flora_calathea_temperature
    - entity: sensor.mi_flora_calathea_conductivity
    - entity: sensor.mi_flora_calathea_illuminance
    - type: divider
    - entity: sensor.mi_flora_peace_lily_moisture
    - entity: sensor.mi_flora_peace_lily_temperature
    - entity: sensor.mi_flora_peace_lily_conductivity
    - entity: sensor.mi_flora_peace_lily_illuminance
    - type: divider
    - entity: sensor.mi_flora_monstera_moisture
    - entity: sensor.mi_flora_monstera_temperature
    - entity: sensor.mi_flora_monstera_conductivity
    - entity: sensor.mi_flora_monstera_illuminance
    show_header_toggle: false
    title: Plant sensors
    type: entities
  - columns: 4
    entities:
    - entity: sensor.temperature_living_room
      name: Living room
    - entity: sensor.humidity_living_room
      name: ''
    - entity: sensor.pressure_living_room
      name: ''
    - entity: sensor.temperature_sensor_living_room_battery_level
      name: ''
    - entity: sensor.temperature_bedroom
      name: Bedroom
    - entity: sensor.humidity_bedroom
      name: ''
    - entity: sensor.pressure_bedroom
      name: ''
    - entity: sensor.temperature_sensor_bedroom_battery_level
      name: ''
    - entity: sensor.temperature_hall
      name: Hall
    - entity: sensor.humidity_hall
      name: ''
    - entity: sensor.pressure_hall
      name: ''
    - entity: sensor.temperature_sensor_hall_battery_level
      name: ''
    - entity: sensor.temperature_bathroom
      name: Bathroom
    - entity: sensor.humidity_bathroom
      name: ''
    - entity: sensor.pressure_bathroom
      name: ''
    - entity: sensor.temperature_sensor_bathroom_battery_level
      name: ''
    - entity: sensor.temperature_xbox
      name: Xbox
    - entity: sensor.humidity_xbox
      name: ''
    - entity: sensor.pressure_xbox
      name: ''
    - entity: sensor.temperature_sensor_xbox_battery_level
      name: ''
    show_icon: true
    show_name: true
    show_state: true
    theme: Backend-selected
    title: Temperature sensors
    type: glance
  - entities:
    - entity: sensor.humidity_bathroom
    - entity: binary_sensor.humidity_bathroom_trend
    - entity: sensor.humidity_bathroom_derivative
    - entity: sensor.humidity_bathroom_stats
    - entity: binary_sensor.someone_showering
    title: Shower occupied
    type: entities
  - entities:
    - entity: sensor.hours_bedroom_lights_have_been_on_last_7_days
      icon: mdi:clock
      name: Bedroom lights
      secondary: 'Been on {{ (states(''sensor.hours_bedroom_lights_have_been_on_last_7_days'')|float
        / (7*24) * 100) | round(2) }}% during last 7 days.

        '
      state: '{{ states("sensor.hours_bedroom_lights_have_been_on_last_7_days") }}
        h'
      type: custom:template-entity-row
    - entity: sensor.hours_living_room_lights_have_been_on_last_7_days
      icon: mdi:clock
      name: Living room lights
      secondary: 'Been on {{ (states(''sensor.hours_living_room_lights_have_been_on_last_7_days'')|float
        / (7*24) * 100) | round(2) }}% during last 7 days.

        '
      state: '{{ states("sensor.hours_living_room_lights_have_been_on_last_7_days")
        }} h'
      type: custom:template-entity-row
    - entity: sensor.hours_toilet_light_has_been_on_last_7_days
      icon: mdi:clock
      name: Toilet
      secondary: 'Been on {{ (states(''sensor.hours_toilet_light_has_been_on_last_7_days'')|float
        / (7*24) * 100) | round(2) }}% during last 7 days.

        '
      state: '{{ states("sensor.hours_toilet_light_has_been_on_last_7_days") }} h'
      type: custom:template-entity-row
    - entity: sensor.hours_bathroom_light_has_been_on_last_7_days
      icon: mdi:clock
      name: Bathroom
      secondary: 'Been on {{ (states(''sensor.hours_bathroom_light_has_been_on_last_7_days'')|float
        / (7*24) * 100) | round(2) }}% during last 7 days.

        '
      state: '{{ states("sensor.hours_bathroom_light_has_been_on_last_7_days") }}
        h'
      type: custom:template-entity-row
    - entity: sensor.hours_kitchen_lights_have_been_on_last_7_days
      icon: mdi:clock
      name: Kitchen lights
      secondary: 'Been on {{ (states(''sensor.hours_kitchen_lights_have_been_on_last_7_days'')|float
        / (7*24) * 100) | round(2) }}% during last 7 days.

        '
      state: '{{ states("sensor.hours_kitchen_lights_have_been_on_last_7_days") }}
        h'
      type: custom:template-entity-row
    - entity: sensor.hours_hall_lights_have_been_on_last_7_days
      icon: mdi:clock
      name: Hall lights
      secondary: 'Been on {{ (states(''sensor.hours_hall_lights_have_been_on_last_7_days'')|float
        / (7*24) * 100) | round(2) }}% during last 7 days.

        '
      state: '{{ states("sensor.hours_hall_lights_have_been_on_last_7_days") }} h'
      type: custom:template-entity-row
    - entity: sensor.hours_bathroom_light_has_been_on_last_7_days
      icon: mdi:clock
      name: Hall lights
      secondary: 'Been on {{ (states(''sensor.hours_bathroom_light_has_been_on_last_7_days'')|float
        / (7*24) * 100) | round(2) }}% during last 7 days.

        '
      state: '{{ states("sensor.hours_bathroom_light_has_been_on_last_7_days") }}
        h'
      type: custom:template-entity-row
    - type: divider
    - entity: sensor.hours_bathroom_light_has_been_on_last_7_days
      icon: mdi:clock
      name: Total cost estimate for last 7 days
      secondary: 'Total is {{ states(''sensor.lights_on_total_hours'') | round(1)
        }} hours, {{ states(''sensor.lights_on_total_kwh'') | round(1) }} kWh, €{{
        (states(''sensor.lights_on_total_kwh'')|float * 0.21) | round(2) }}.

        '
      state: '{{ states("sensor.hours_bathroom_light_has_been_on_last_7_days") }}
        h'
      type: custom:template-entity-row
    title: Lights on last 7 days
    type: entities
  icon: mdi:motion-sensor
  path: sensors
  title: Sensors
- badges: []
  cards:
  - entities:
    - entity: input_boolean.start_kef_ls50
    - entity: input_boolean.start_kef_lsx
    - type: divider
    - entity: input_boolean.start_spotify_on_kef_ls50
    - entity: input_boolean.start_spotify_on_kef_lsx
    - type: divider
    - entity: input_boolean.wake_up_light
    - entity: input_boolean.demo_wake_up_light
    - type: divider
    - entity: input_boolean.wake_up_with_spotify
    - entity: input_boolean.demo_wake_up_with_spotify
    show_header_toggle: false
    title: Test apps
    type: entities
  - entities:
    - entity: input_select.cube_mode
    - entity: input_select.last_script_bedroom
    - entity: input_select.last_script_living_room
    show_header_toggle: false
    title: Inputs (automatically switched)
    type: entities
  - entities:
    - entity: sensor.kef_ls50_volume
    - entity: sensor.tv_volume
    - type: divider
    - entity: sensor.kef_lsx_volume
    - entity: input_select.lsx_volume
    show_header_toggle: false
    title: Volume sync
    type: entities
  - entities:
    - entity: input_datetime.dishwasher_on
    - entity: input_datetime.dishwasher_off
    - entity: input_datetime.washing_machine_on
    - entity: input_datetime.washing_machine_off
    show_header_toggle: false
    title: Datetimes
    type: entities
  - entities:
    - align: center
      color: '#0279ff'
      entity: sensor.time_at_work_this_week
      entity_row: true
      height: 30px
      max: 50
      min: 0
      severity:
      - color: '#ff3c31'
        from: 0
        to: 30
      - color: '#ffcc01'
        from: 30
        to: 38
      - color: '#34c758'
        from: 38
        to: 42
      - color: '#ff3c31'
        from: 42
        to: 50
      style: "ha-card {\n  box-shadow: none;\n  --ha-card-background: 'rgba(0, 0,\
        \ 0, 0)';\n}\n"
      target: 40
      type: custom:bar-card
    - align: center
      entity: sensor.time_at_work_prognosis
      entity_row: true
      height: 30px
      max: 50
      min: 0
      severity:
      - color: '#ff3c31'
        from: 0
        to: 30
      - color: '#ffcc01'
        from: 30
        to: 38
      - color: '#34c758'
        from: 38
        to: 42
      - color: '#ff3c31'
        from: 42
        to: 50
      style: "ha-card {\n  box-shadow: none;\n  --ha-card-background: 'rgba(0, 0,\
        \ 0, 0)';\n}\n"
      target: 40
      type: custom:bar-card
    - type: divider
    - align: center
      entity: sensor.time_at_work_on_monday
      entity_row: true
      height: 30px
      max: 12
      min: 0
      severity:
      - color: '#ff3c31'
        from: 0
        to: 6
      - color: '#ffcc01'
        from: 6
        to: 8
      - color: '#34c758'
        from: 8
        to: 9
      - color: '#ff3c31'
        from: 9
        to: 10
      style: "ha-card {\n  box-shadow: none;\n  --ha-card-background: 'rgba(0, 0,\
        \ 0, 0)';\n}\n"
      target: 8
      type: custom:bar-card
    - align: center
      entity: sensor.time_at_work_on_tuesday
      entity_row: true
      height: 30px
      max: 12
      min: 0
      severity:
      - color: '#ff3c31'
        from: 0
        to: 6
      - color: '#ffcc01'
        from: 6
        to: 8
      - color: '#34c758'
        from: 8
        to: 9
      - color: '#ff3c31'
        from: 9
        to: 10
      style: "ha-card {\n  box-shadow: none;\n  --ha-card-background: 'rgba(0, 0,\
        \ 0, 0)';\n}\n"
      target: 8
      type: custom:bar-card
    - align: center
      entity: sensor.time_at_work_on_wednessday
      entity_row: true
      height: 30px
      max: 12
      min: 0
      severity:
      - color: '#ff3c31'
        from: 0
        to: 6
      - color: '#ffcc01'
        from: 6
        to: 8
      - color: '#34c758'
        from: 8
        to: 9
      - color: '#ff3c31'
        from: 9
        to: 10
      style: "ha-card {\n  box-shadow: none;\n  --ha-card-background: 'rgba(0, 0,\
        \ 0, 0)';\n}\n"
      target: 8
      type: custom:bar-card
    - align: center
      entity: sensor.time_at_work_on_thursday
      entity_row: true
      height: 30px
      max: 12
      min: 0
      severity:
      - color: '#ff3c31'
        from: 0
        to: 6
      - color: '#ffcc01'
        from: 6
        to: 8
      - color: '#34c758'
        from: 8
        to: 9
      - color: '#ff3c31'
        from: 9
        to: 10
      style: "ha-card {\n  box-shadow: none;\n  --ha-card-background: 'rgba(0, 0,\
        \ 0, 0)';\n}\n"
      target: 8
      type: custom:bar-card
    - align: center
      entity: sensor.time_at_work_on_friday
      entity_row: true
      height: 30px
      max: 12
      min: 0
      severity:
      - color: '#ff3c31'
        from: 0
        to: 6
      - color: '#ffcc01'
        from: 6
        to: 8
      - color: '#34c758'
        from: 8
        to: 9
      - color: '#ff3c31'
        from: 9
        to: 10
      style: "ha-card {\n  box-shadow: none;\n  --ha-card-background: 'rgba(0, 0,\
        \ 0, 0)';\n}\n"
      target: 8
      type: custom:bar-card
    show_header_toggle: false
    title: Work time
    type: entities
  - entities:
    - icon: mdi:information
      name: This is to control the volume using HA-menu on my iMac
      type: custom:template-entity-row
    - entity: switch.kef_lsx
    - type: divider
    - entity: input_select.lsx_volume
    - entity: input_select.lsx_source
    show_header_toggle: false
    title: LSX control (for HA-Menu)
    type: entities
  - entities:
    - entity: sensor.times_dishwasher_has_been_on_last_7_days
    - entity: sensor.hours_dishwasher_has_been_on_last_7_days
    - entity: sensor.times_washing_machine_has_been_on_last_7_days
    - entity: sensor.hours_washing_machine_has_been_on_last_7_days
    - entity: sensor.times_tv_has_been_on_last_7_days
    - entity: sensor.hours_tv_has_been_on_last_7_days
    title: Stats
    type: entities
  - entities:
    - entity: sensor.gas_per_hour
    - entity: sensor.gas_per_hour_filtered
    type: entities
  - entities:
    - entity: input_boolean.test
    - entity: sensor.average_sleep_time
    - entity: input_select.sleep_mode
    type: entities
  - entities:
    - animation: 'off'
      entity: sensor.quarantine_meter_bas
      entity_row: true
      height: 30px
      indicator: 'off'
      severity:
      - color: red
        from: 0
        to: 60
      - color: orange
        from: 60
        to: 95
      - color: green
        from: 95
        to: 100
      style: "ha-card {\n  box-shadow: none;\n  --ha-card-background: 'rgba(0, 0,\
        \ 0, 0)';\n}\n"
      type: custom:bar-card
    - animation: 'off'
      entity: sensor.quarantine_meter_marcella
      entity_row: true
      height: 30px
      indicator: 'off'
      severity:
      - color: red
        from: 0
        to: 60
      - color: orange
        from: 60
        to: 95
      - color: green
        from: 95
        to: 100
      style: "ha-card {\n  box-shadow: none;\n  --ha-card-background: 'rgba(0, 0,\
        \ 0, 0)';\n}\n"
      type: custom:bar-card
    title: Quarantine metrics
    type: entities
  - cards:
    - cards:
      - color_thresholds_transition: smooth
        entities:
        - entity: sensor.adaptive_lighting_brightness
          name: Brightness
        font_size: 100
        group: false
        hour24: true
        line_width: 6
        points_per_hour: 1
        show:
          extrema: false
          fill: fade
          labels: false
          name: true
          state: true
        type: custom:mini-graph-card
      - color_thresholds_transition: smooth
        entities:
        - entity: sensor.adaptive_lighting_sun_position
          name: Sun position
        font_size: 100
        group: false
        hour24: true
        line_width: 6
        points_per_hour: 1
        show:
          extrema: false
          fill: fade
          labels: false
          name: true
          state: true
        type: custom:mini-graph-card
      type: horizontal-stack
    - cards:
      - color_thresholds_transition: smooth
        entities:
        - entity: sensor.adaptive_lighting_color_temp_mired
          name: Color temperature (mired)
        font_size: 100
        group: false
        hour24: true
        line_width: 6
        points_per_hour: 1
        show:
          extrema: false
          fill: fade
          labels: false
          name: true
          state: true
        type: custom:mini-graph-card
      - color_thresholds_transition: smooth
        entities:
        - entity: sensor.adaptive_lighting_color_temp_kelvin
          name: Color temperature (Kelvin)
        font_size: 100
        group: false
        hour24: true
        line_width: 6
        points_per_hour: 1
        show:
          extrema: false
          fill: fade
          labels: false
          name: true
          state: true
        type: custom:mini-graph-card
      type: horizontal-stack
    type: vertical-stack
  - cards:
    - color_thresholds_transition: smooth
      entities:
      - entity: sensor.adaptive_lighting_brightness
        name: Brightness
        show_state: true
      - entity: sensor.adaptive_lighting_color_temp_kelvin
        name: Color temp (Kelvin)
        show_state: true
        y_axis: secondary
      font_size: 80
      group: false
      hour24: true
      hours_to_show: 72
      line_width: 2
      lower_bound: 60
      lower_bound_secondary: 0
      name: Brightness vs color temp
      points_per_hour: 2
      show:
        extrema: false
        fill: fade
        labels: false
        name: true
        state: true
      type: custom:mini-graph-card
      upper_bound: 105
      upper_bound_secondary: ~5500
    - color_thresholds_transition: smooth
      entities:
      - entity: sensor.adaptive_lighting_brightness
        name: Brightness
        show_state: true
      - entity: sensor.adaptive_lighting_sun_position
        name: Sun position
        show_state: true
        y_axis: secondary
      font_size: 80
      group: false
      hour24: true
      hours_to_show: 72
      line_width: 2
      lower_bound: 40
      lower_bound_secondary: -100
      name: Brightness vs sun position
      points_per_hour: 2
      show:
        extrema: false
        fill: fade
        labels: false
        name: true
        state: true
      type: custom:mini-graph-card
      upper_bound: 100
      upper_bound_secondary: 100
    - color_thresholds_transition: smooth
      entities:
      - entity: sensor.adaptive_lighting_color_temp_kelvin
        name: Color temp
        show_state: true
      - entity: sensor.adaptive_lighting_sun_position
        name: Sun position
        show_state: true
        y_axis: secondary
      font_size: 80
      group: false
      hour24: true
      hours_to_show: 72
      line_width: 2
      lower_bound: 0
      lower_bound_secondary: -100
      name: Color temp vs sun position
      points_per_hour: 2
      show:
        extrema: false
        fill: fade
        labels: false
        name: true
        state: true
      type: custom:mini-graph-card
      upper_bound: ~5500
      upper_bound_secondary: 100
    type: custom:swipe-card
  - dark_mode: true
    entities:
    - entity: person.bas
    - entity: person.marcella
    hours_to_show: 240
    type: map
  - entity: media_player.living_room_xboxone
    type: media-control
  - entities:
    - entity: sensor.temperature_living_room
      name: Living room
      secondary: '💦 {{ states(''sensor.humidity_living_room'') }}%, ⚖️ {{ states(''sensor.pressure_living_room'')
        }} hPa, 🔋 {{ states(''sensor.temperature_living_room_battery_level'') }}%

        '
      state: '{{ states("sensor.temperature_living_room") }} °C'
      type: custom:template-entity-row
    title: Temperature sensors
    type: entities
  - entities:
    - active: '{{ is_state("binary_sensor.motion_sensor_kitchen", "on") }}'
      entity: binary_sensor.motion_sensor_kitchen
      name: Kitchen
      secondary: 'Light level {{ states("sensor.motion_sensor_kitchen_light_level")
        }} lx, battery {{ states("sensor.motion_sensor_kitchen_battery_level") }}%

        '
      type: custom:template-entity-row
    - active: '{{ is_state("binary_sensor.motion_sensor_toilet", "on") }}'
      entity: binary_sensor.motion_sensor_toilet
      name: Toilet
      secondary: 'Light level {{ states("sensor.motion_sensor_toilet_light_level")
        }} lx, battery {{ states("sensor.motion_sensor_toilet_battery_level") }}%

        '
      type: custom:template-entity-row
    - active: '{{ is_state("binary_sensor.motion_sensor_hall", "on") }}'
      entity: binary_sensor.motion_sensor_hall
      name: Hall
      secondary: 'Light level {{ states("sensor.motion_sensor_hall_light_level") }}
        lx, battery {{ states("sensor.motion_sensor_hall_battery_level") }}%

        '
      type: custom:template-entity-row
    - active: '{{ is_state("binary_sensor.motion_sensor_bathroom", "on") }}'
      entity: binary_sensor.motion_sensor_bathroom
      name: Bathroom
      secondary: 'Light level {{ states("sensor.motion_sensor_bathroom_light_level")
        }} lx, battery {{ states("sensor.motion_sensor_bathroom_battery_level") }}%

        '
      type: custom:template-entity-row
    - active: '{{ is_state("binary_sensor.motion_sensor_bedroom_door", "on") }}'
      entity: binary_sensor.motion_sensor_bedroom_door
      name: Bedroom door
      secondary: 'Light level {{ states("sensor.motion_sensor_bedroom_door_light_level")
        }} lx, battery {{ states("sensor.motion_sensor_bedroom_door_battery_level")
        }}%

        '
      type: custom:template-entity-row
    - active: '{{ is_state("binary_sensor.motion_sensor_bedroom_kabinet", "on") }}'
      entity: binary_sensor.motion_sensor_bedroom_kabinet
      name: Bedroom kabinet
      secondary: 'Light level {{ states("sensor.motion_sensor_bedroom_kabinet_light_level")
        }} lx, battery {{ states("sensor.motion_sensor_bedroom_kabinet_battery_level")
        }}%

        '
      type: custom:template-entity-row
    - active: '{{ is_state("binary_sensor.motion_sensor_bedroom_desk", "on") }}'
      entity: binary_sensor.motion_sensor_bedroom_desk
      name: Bedroom desk
      secondary: 'Light level {{ states("sensor.motion_sensor_bedroom_desk_light_level")
        }} lx, battery {{ states("sensor.motion_sensor_bedroom_desk_battery_level")
        }}%

        '
      type: custom:template-entity-row
    - active: '{{ is_state("binary_sensor.motion_sensor_living_room_klok", "on") }}'
      entity: binary_sensor.motion_sensor_living_room_klok
      name: Living room klok
      secondary: 'Light level {{ states("sensor.motion_sensor_living_room_klok_light_level")
        }} lx, battery {{ states("sensor.motion_sensor_living_room_klok_battery_level")
        }}%

        '
      type: custom:template-entity-row
    title: Motion sensors
    type: entities
  - entity: camera.camera1
    type: picture-entity
  icon: mdi:test-tube
  path: tests
  title: Tests
- badges: []
  cards:
  - card:
      show_header_toggle: false
      title: Uncategorized automations
      type: entities
    filter:
      exclude:
      - entity_id: automation.adaptive_lighting*
      - entity_id: automation.alarm_clock_*
      - entity_id: automation.apple_watch*
      - entity_id: automation.arriving_*
      - entity_id: automation.climate_*
      - entity_id: automation.control_switches*
      - entity_id: automation.cube_*
      - entity_id: automation.doorbell_*
      - entity_id: automation.frontend_*
      - entity_id: automation.kef_dsp_*
      - entity_id: automation.leaving_*
      - entity_id: automation.light_*
      - entity_id: automation.lovelace_*
      - entity_id: automation.lsx_*
      - entity_id: automation.media_player_*
      - entity_id: automation.music_*
      - entity_id: automation.night_mode_*
      - entity_id: automation.plant_*
      - entity_id: automation.rhasspy_*
      - entity_id: automation.security_*
      - entity_id: automation.system_*
      - entity_id: automation.utilities_*
      - entity_id: automation.vacation_mode_*
      - entity_id: automation.vacuum_*
      - entity_id: automation.work*
      include:
      - domain: automation
    sort: entity_id
    type: custom:auto-entities
  - template: automation_template
    type: custom:decluttering-card
    variables:
    - name: Alarm clock
    - slug: alarm_clock
  - template: automation_template
    type: custom:decluttering-card
    variables:
    - name: Arriving
    - slug: arriving_
  - template: automation_template
    type: custom:decluttering-card
    variables:
    - name: Climate
    - slug: climate
  - template: automation_template
    type: custom:decluttering-card
    variables:
    - name: Control switches
    - slug: control_switches
  - template: automation_template
    type: custom:decluttering-card
    variables:
    - name: Cube
    - slug: cube_
  - template: automation_template
    type: custom:decluttering-card
    variables:
    - name: Doorbell
    - slug: doorbell_
  - template: automation_template
    type: custom:decluttering-card
    variables:
    - name: Frontend
    - slug: frontend_
  - template: automation_template
    type: custom:decluttering-card
    variables:
    - name: KEF DSP
    - slug: kef_dsp_
  - template: automation_template
    type: custom:decluttering-card
    variables:
    - name: LSX
    - slug: lsx_
  - template: automation_template
    type: custom:decluttering-card
    variables:
    - name: Leaving
    - slug: leaving
  - template: automation_template
    type: custom:decluttering-card
    variables:
    - name: Light
    - slug: light
  - template: automation_template
    type: custom:decluttering-card
    variables:
    - name: Lovelace
    - slug: lovelace
  - template: automation_template
    type: custom:decluttering-card
    variables:
    - name: Media player
    - slug: media_player_
  - template: automation_template
    type: custom:decluttering-card
    variables:
    - name: Music
    - slug: music
  - template: automation_template
    type: custom:decluttering-card
    variables:
    - name: Night mode
    - slug: night_mode_
  - template: automation_template
    type: custom:decluttering-card
    variables:
    - name: Plant
    - slug: plant
  - template: automation_template
    type: custom:decluttering-card
    variables:
    - name: Rhasspy
    - slug: rhasspy_
  - template: automation_template
    type: custom:decluttering-card
    variables:
    - name: Security
    - slug: security
  - template: automation_template
    type: custom:decluttering-card
    variables:
    - name: System
    - slug: system_
  - template: automation_template
    type: custom:decluttering-card
    variables:
    - name: Utilities
    - slug: utilities_
  - template: automation_template
    type: custom:decluttering-card
    variables:
    - name: Vacation mode
    - slug: vacation_mode
  - template: automation_template
    type: custom:decluttering-card
    variables:
    - name: Vacuum
    - slug: vacuum
  - template: automation_template
    type: custom:decluttering-card
    variables:
    - name: Work
    - slug: work
  - template: automation_template
    type: custom:decluttering-card
    variables:
    - name: Apple Watch
    - slug: apple_watch
  - template: automation_template
    type: custom:decluttering-card
    variables:
    - name: Adaptive Lighting
    - slug: adaptive_lighting_
  icon: mdi:robot
  path: automations
  title: Automations
